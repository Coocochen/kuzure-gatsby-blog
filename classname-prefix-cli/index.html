<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.10999f57ae4872f0fd01.css" data-identity="gatsby-global-css">:root{--reach-skip-nav:1}[data-reach-skip-nav-link]{clip:rect(0 0 0 0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}[data-reach-skip-nav-link]:focus{clip:auto;background:#fff;height:auto;left:10px;padding:1rem;position:fixed;top:10px;width:auto;z-index:1}.icon{fill:currentColor;color:#fff!important;height:1em;margin-right:2px;overflow:hidden;vertical-align:-.15em;width:1em}.github-icon{margin-left:4px}.header-nav-hover{background-color:hsla(0,100%,99%,.8);box-shadow:0 0 4px rgba(0,0,0,.27);top:-52px!important}#go-up{background-color:#282c35;border-radius:50%;bottom:2rem;cursor:pointer;display:none;padding:.5rem;position:fixed;right:2rem;transition:all .4s ease-in-out}@font-face{font-family:octicons-link;src:url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format("woff")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;word-wrap:break-word;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:16px;line-height:1.5}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{background-color:#b31d28;color:#fafbfc}.markdown-body .pl-c2{background-color:#d73a49;color:#fafbfc}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{color:#22863a;font-weight:700}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{color:#005cc5;font-weight:700}.markdown-body .pl-mi{color:#24292e;font-style:italic}.markdown-body .pl-mb{color:#24292e;font-weight:700}.markdown-body .pl-md{background-color:#ffeef0;color:#b31d28}.markdown-body .pl-mi1{background-color:#f0fff4;color:#22863a}.markdown-body .pl-mc{background-color:#ffebda;color:#e36209}.markdown-body .pl-mi2{background-color:#005cc5;color:#f6f8fa}.markdown-body .pl-mdr{color:#6f42c1;font-weight:700}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{color:#032f62;text-decoration:underline}.markdown-body .octicon{fill:currentColor;display:inline-block;vertical-align:text-top}.markdown-body a{-webkit-text-decoration-skip:objects;background-color:transparent}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body svg:not(:root){overflow:hidden}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:content-box;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{background:transparent;border-bottom:1px solid #dfe2e5;height:0;margin:15px 0;overflow:hidden}.markdown-body hr:after,.markdown-body hr:before{content:"";display:table}.markdown-body hr:after{clear:both}.markdown-body table{border-collapse:collapse;border-spacing:0}.markdown-body td,.markdown-body th{padding:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-bottom:0;margin-top:0}.markdown-body h1{font-size:32px;font-weight:600}.markdown-body h2{font-size:24px;font-weight:600}.markdown-body h3{font-size:20px;font-weight:600}.markdown-body h4{font-size:16px;font-weight:600}.markdown-body h5{font-size:14px;font-weight:600}.markdown-body h6{font-size:12px;font-weight:600}.markdown-body p{margin-bottom:10px;margin-top:0}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{margin-bottom:0;margin-top:0;padding-left:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:12px}.markdown-body pre{font:12px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;margin-bottom:0;margin-top:0}.markdown-body .octicon{vertical-align:text-bottom}.markdown-body .pl-0{padding-left:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body:after,.markdown-body:before{content:"";display:table}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-bottom:16px;margin-top:0}.markdown-body hr{background-color:#e1e4e8;border:0;height:.25em;margin:24px 0;padding:0}.markdown-body blockquote{border-left:.25em solid #dfe2e5;color:#6a737d;padding:0 1em}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd{border:1px solid #c6cbd1;border-bottom-color:#959da5;box-shadow:inset 0 -1px 0 #959da5;font-size:11px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:600;line-height:1.25;margin-bottom:16px;margin-top:24px}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{border-bottom:1px solid #eaecef;padding-bottom:.3em}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{color:#6a737d;font-size:.85em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-bottom:0;margin-top:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{font-size:1em;font-style:italic;font-weight:600;margin-top:16px;padding:0}.markdown-body dl dd{margin-bottom:16px;padding:0 16px}.markdown-body table{display:block;overflow:auto;width:100%}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:6px 13px}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{background-color:#fff;box-sizing:content-box;max-width:100%}.markdown-body code{background-color:rgba(27,31,35,.05);border-radius:3px;font-size:85%;margin:0;padding:.2em 0}.markdown-body code:after,.markdown-body code:before{content:"\A0";letter-spacing:-.2em}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{background:transparent;border:0;font-size:100%;margin:0;padding:0;white-space:pre;word-break:normal}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{background-color:#f6f8fa;border-radius:3px;font-size:85%;line-height:1.45;overflow:auto;padding:16px}.markdown-body pre code{word-wrap:normal;background-color:transparent;border:0;display:inline;line-height:inherit;margin:0;max-width:auto;overflow:visible;padding:0}.markdown-body pre code:after,.markdown-body pre code:before{content:normal}.markdown-body .full-commit .btn-outline:not(:disabled):hover{border-color:#005cc5;color:#005cc5}.markdown-body kbd{background-color:#fafbfc;border:1px solid #d1d5da;border-bottom-color:#c6cbd1;border-radius:3px;box-shadow:inset 0 -1px 0 #c6cbd1;color:#444d56;display:inline-block;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;line-height:10px;padding:3px 5px;vertical-align:middle}.markdown-body :checked+.radio-label{border-color:#0366d6;position:relative;z-index:1}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body hr{border-bottom-color:#eee}.gt-container{font-size:16px}.gt-container,.gt-container *{box-sizing:border-box}.gt-container a{color:#6190e8}.gt-container a:hover{border-color:#81a6ed;color:#81a6ed}.gt-container a.is--active{color:#333;cursor:default!important}.gt-container a.is--active:hover{color:#333}.gt-container .hide{display:none!important}.gt-container .gt-svg{display:inline-block;height:1em;vertical-align:sub;width:1em}.gt-container .gt-svg svg{fill:#6190e8;height:100%;width:100%}.gt-container .gt-ico{display:inline-block}.gt-container .gt-ico-text{margin-left:.3125em}.gt-container .gt-ico-github,.gt-container .gt-ico-github .gt-svg{height:100%;width:100%}.gt-container .gt-ico-github svg{fill:inherit}.gt-container .gt-spinner{position:relative}.gt-container .gt-spinner:before{-webkit-animation:gt-kf-rotate .6s linear infinite;animation:gt-kf-rotate .6s linear infinite;border:1px solid #fff;border-radius:50%;border-top-color:#6190e8;box-sizing:border-box;content:"";height:.75em;margin-left:-.375em;margin-top:-.1875em;position:absolute;top:3px;width:.75em}.gt-container .gt-loader{-webkit-animation:gt-kf-rotate 1.5s ease infinite;animation:gt-kf-rotate 1.5s ease infinite;border:1px solid #999;border-radius:50%;display:inline-block;font-style:normal;height:1.75em;line-height:1.75em;position:relative;width:1.75em}.gt-container .gt-loader:before{background-color:#999;border-radius:50%;content:"";display:block;height:.375em;left:50%;margin-left:-.1875em;margin-top:-.1875em;position:absolute;top:0;width:.375em}.gt-container .gt-avatar{display:inline-block;height:3.125em;width:3.125em}@media (max-width:479px){.gt-container .gt-avatar{height:2em;width:2em}}.gt-container .gt-avatar img{border-radius:3px;height:auto;width:100%}.gt-container .gt-avatar-github{cursor:pointer;height:3em;width:3em}@media (max-width:479px){.gt-container .gt-avatar-github{height:1.875em;width:1.875em}}.gt-container .gt-btn{background-color:#6190e8;border:1px solid #6190e8;border-radius:5px;color:#fff;cursor:pointer;display:inline-block;font-size:.75em;line-height:1;outline:none;padding:.75em 1.25em;text-decoration:none;white-space:nowrap}.gt-container .gt-btn-text{font-weight:400}.gt-container .gt-btn-loading{display:inline-block;height:1em;margin-left:.5em;position:relative;vertical-align:top;width:.75em}.gt-container .gt-btn.is--disable{cursor:not-allowed;opacity:.5}.gt-container .gt-btn-login{margin-right:0}.gt-container .gt-btn-preview{background-color:#fff;color:#6190e8}.gt-container .gt-btn-preview:hover{background-color:#f2f2f2;border-color:#81a6ed}.gt-container .gt-btn-public:hover{background-color:#81a6ed;border-color:#81a6ed}.gt-container .gt-error{color:#ff3860;margin:.625em;text-align:center}.gt-container .gt-initing{padding:1.25em 0;text-align:center}.gt-container .gt-initing-text{font-size:92%;margin:.625em auto}.gt-container .gt-no-init{padding:1.25em 0;text-align:center}.gt-container .gt-link{border-bottom:1px dotted #6190e8}.gt-container .gt-link-counts,.gt-container .gt-link-project{text-decoration:none}.gt-container .gt-meta{border-bottom:1px solid #e9e9e9;font-size:1em;margin:1.25em 0;padding:1em 0;position:relative;z-index:10}.gt-container .gt-meta:after,.gt-container .gt-meta:before{content:" ";display:table}.gt-container .gt-meta:after{clear:both}.gt-container .gt-counts{margin:0 .625em 0 0}.gt-container .gt-user{float:right;font-size:92%;margin:0}.gt-container .gt-user-pic{height:16px;margin-right:.5em;vertical-align:top;width:16px}.gt-container .gt-user-inner{cursor:pointer;display:inline-block}.gt-container .gt-user .gt-ico{margin:0 0 0 .3125em}.gt-container .gt-user .gt-ico svg{fill:inherit}.gt-container .gt-user .is--poping .gt-ico svg{fill:#6190e8}.gt-container .gt-version{color:#a1a1a1;margin-left:.375em}.gt-container .gt-copyright{border-top:1px solid #e9e9e9;margin:0 .9375em .5em;padding-top:.5em}.gt-container .gt-popup{background:#fff;border:1px solid #e9e9e9;display:inline-block;font-size:.875em;letter-spacing:.5px;padding:.625em 0;position:absolute;right:0;top:2.375em}.gt-container .gt-popup .gt-action{cursor:pointer;display:block;margin:.5em 0;padding:0 1.125em;position:relative;text-decoration:none}.gt-container .gt-popup .gt-action.is--active:before{background:#6190e8;content:"";height:.25em;left:.5em;position:absolute;top:.4375em;width:.25em}.gt-container .gt-header{display:flex;position:relative}.gt-container .gt-header-comment{flex:1 1;margin-left:1.25em}@media (max-width:479px){.gt-container .gt-header-comment{margin-left:.875em}}.gt-container .gt-header-textarea{word-wrap:break-word;background-color:#f6f6f6;border:1px solid rgba(0,0,0,.1);border-radius:5px;box-sizing:border-box;display:block;font-size:.875em;max-height:15em;min-height:5.125em;outline:none;padding:.75em;resize:vertical;transition:all .25s ease;width:100%}.gt-container .gt-header-textarea:hover{background-color:#fbfbfb}.gt-container .gt-header-preview{background-color:#f6f6f6;border:1px solid rgba(0,0,0,.1);border-radius:5px;padding:.75em}.gt-container .gt-header-controls{margin:.75em 0 0;position:relative}.gt-container .gt-header-controls:after,.gt-container .gt-header-controls:before{content:" ";display:table}.gt-container .gt-header-controls:after{clear:both}@media (max-width:479px){.gt-container .gt-header-controls{margin:0}}.gt-container .gt-header-controls-tip{color:#6190e8;font-size:.875em;text-decoration:none;vertical-align:sub}@media (max-width:479px){.gt-container .gt-header-controls-tip{display:none}}.gt-container .gt-header-controls .gt-btn{float:right;margin-left:1.25em}@media (max-width:479px){.gt-container .gt-header-controls .gt-btn{float:none;margin:.75em 0 0;width:100%}}.gt-container:after{bottom:100%;content:"";left:0;opacity:0;position:fixed;right:0;top:0}.gt-container.gt-input-focused{position:relative}.gt-container.gt-input-focused:after{background:#000;bottom:0;content:"";left:0;opacity:.6;position:fixed;right:0;top:0;transition:opacity .3s,bottom 0s;z-index:9999}.gt-container.gt-input-focused .gt-header-comment{z-index:10000}.gt-container .gt-comments{padding-top:1.25em}.gt-container .gt-comments-null{text-align:center}.gt-container .gt-comments-controls{margin:1.25em 0;text-align:center}.gt-container .gt-comment{display:flex;padding:.625em 0;position:relative}.gt-container .gt-comment-content{background-color:#f9f9f9;flex:1 1;margin-left:1.25em;overflow:auto;padding:.75em 1em;transition:all .25s ease}.gt-container .gt-comment-content:hover{box-shadow:0 .625em 3.75em 0 #f4f4f4}@media (max-width:479px){.gt-container .gt-comment-content{margin-left:.875em;padding:.625em .75em}}.gt-container .gt-comment-header{font-size:.875em;margin-bottom:.5em;position:relative}.gt-container .gt-comment-block-1{float:right;height:1.375em;width:2em}.gt-container .gt-comment-block-2{float:right;height:1.375em;width:4em}.gt-container .gt-comment-username{color:#6190e8;font-weight:500;text-decoration:none}.gt-container .gt-comment-username:hover{text-decoration:underline}.gt-container .gt-comment-date,.gt-container .gt-comment-text{color:#a1a1a1;margin-left:.5em}.gt-container .gt-comment-edit,.gt-container .gt-comment-like,.gt-container .gt-comment-reply{height:1.375em;position:absolute}.gt-container .gt-comment-edit:hover,.gt-container .gt-comment-like:hover,.gt-container .gt-comment-reply:hover{cursor:pointer}.gt-container .gt-comment-like{right:2em;top:0}.gt-container .gt-comment-edit,.gt-container .gt-comment-reply{right:0;top:0}.gt-container .gt-comment-body{color:#333!important}.gt-container .gt-comment-body .email-hidden-toggle a{background:#dfe2e5;border-radius:1px;color:#444d56;display:inline-block;font-size:12px;font-weight:600;height:12px;line-height:6px;padding:0 9px;text-decoration:none;vertical-align:middle}.gt-container .gt-comment-body .email-hidden-toggle a:hover{background-color:#c6cbd1}.gt-container .gt-comment-body .email-hidden-reply{display:none;white-space:pre-wrap}.gt-container .gt-comment-body .email-hidden-reply .email-signature-reply{border-left:4px solid #dfe2e5;color:#586069;margin:15px 0;padding:0 15px}.gt-container .gt-comment-body .email-hidden-reply.expanded{display:block}.gt-container .gt-comment-admin .gt-comment-content{background-color:#f6f9fe}@-webkit-keyframes gt-kf-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes gt-kf-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}</style><meta name="generator" content="Gatsby 3.8.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><title data-react-helmet="true">开发一个cli工具一键给你的css样式名添加前缀 | Kuzure&#x27;s blog</title><meta data-react-helmet="true" name="description" content="最近做 qiankun 框架微前端集成的时候，遇到了主应用和子应用样式名冲突导致样式异常的问题。
对此，qiankun 虽然给出了沙箱隔离的方案，但是这个方案对于 react 框架似乎并不怎么友好，
而一个一个地给子应用的样式添加前缀又太繁琐，
所以就想是否可以开发一个 cli…"/><meta data-react-helmet="true" property="og:title" content="开发一个cli工具一键给你的css样式名添加前缀"/><meta data-react-helmet="true" property="og:description" content="最近做 qiankun 框架微前端集成的时候，遇到了主应用和子应用样式名冲突导致样式异常的问题。
对此，qiankun 虽然给出了沙箱隔离的方案，但是这个方案对于 react 框架似乎并不怎么友好，
而一个一个地给子应用的样式添加前缀又太繁琐，
所以就想是否可以开发一个 cli…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:creator" content="kuzure-东山"/><meta data-react-helmet="true" name="twitter:title" content="开发一个cli工具一键给你的css样式名添加前缀"/><meta data-react-helmet="true" name="twitter:description" content="最近做 qiankun 框架微前端集成的时候，遇到了主应用和子应用样式名冲突导致样式异常的问题。
对此，qiankun 虽然给出了沙箱隔离的方案，但是这个方案对于 react 框架似乎并不怎么友好，
而一个一个地给子应用的样式添加前缀又太繁琐，
所以就想是否可以开发一个 cli…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><link rel="icon" href="/favicon-32x32.png?v=fe79452f2bf834ff9bf8cf2684783a6b" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fe79452f2bf834ff9bf8cf2684783a6b"/><link as="script" rel="preload" href="/webpack-runtime-8ef745f2580752c1dbf5.js"/><link as="script" rel="preload" href="/framework-83c4af4e5826768a26d2.js"/><link as="script" rel="preload" href="/app-348b17b41c98f114e5b1.js"/><link as="script" rel="preload" href="/41aca86e-ff3c2ac48cc14a2a06ae.js"/><link as="script" rel="preload" href="/594a10c5e594bd3faaa0b3336dcd5755131ca933-a54017c2c5d08c874522.js"/><link as="script" rel="preload" href="/799b9e28ec84f08939ab3af68c08e0b6efc8bad3-85829a2fafa1d0f63618.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-8e8acd39aeab295972b2.js"/><link as="fetch" rel="preload" href="/page-data/classname-prefix-cli/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2744905544.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3090755652.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/764694655.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.documentElement.classList.add('theme-ui-' + mode);
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion="css-global h580jr">body{--theme-ui-colors-text:#282c35;--theme-ui-colors-background:#fff;--theme-ui-colors-primary:#282c35;--theme-ui-colors-secondary:#1B1F23;--theme-ui-colors-muted:hsla(0, 0%, 0%, 0.2);--theme-ui-colors-highlight:rgba(255, 229, 100, 0.2);--theme-ui-colors-heading:#282c35;--theme-ui-colors-prism-background:#011627;--theme-ui-colors-prism-comment:#809393;--theme-ui-colors-prism-string:#addb67;--theme-ui-colors-prism-var:#d6deeb;--theme-ui-colors-prism-number:#f78c6c;--theme-ui-colors-prism-constant:#82aaff;--theme-ui-colors-prism-punctuation:#c792ea;--theme-ui-colors-prism-className:#ffc98b;--theme-ui-colors-prism-tag:#ffa7c4;--theme-ui-colors-prism-boolean:#ff5874;--theme-ui-colors-prism-property:#80cbc4;--theme-ui-colors-prism-namespace:#b2ccd6;--theme-ui-colors-prism-highlight:hsla(207, 95%, 15%, 1);color:var(--theme-ui-colors-text);background-color:var(--theme-ui-colors-background);}body.theme-ui-dark{--theme-ui-colors-text:rgba(255, 255, 255, 0.86);--theme-ui-colors-background:#232129;--theme-ui-colors-primary:#D9BAE8;--theme-ui-colors-secondary:rgba(255, 255, 255, 0.86);--theme-ui-colors-muted:hsla(0, 0%, 100%, 0.2);--theme-ui-colors-highlight:#663399;--theme-ui-colors-heading:#fff;}</style><style data-emotion="css-global 8ir1vi">*{box-sizing:border-box;}body{margin:0;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css ocpejr">.css-ocpejr{font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",sans-serif;}</style><div class="css-ocpejr"><div id="reach-skip-nav" data-reach-skip-nav-content=""></div><div><style data-emotion="css 1a2drsk">.css-1a2drsk{height:402px;overflow:hidden;position:fixed!important;top:0;z-index:-1;}</style><div class="css-1a2drsk"><img decoding="async" src="/index-bg.png" alt="background"/><noscript><img decoding="async" src="/index-bg.png" alt="background"/></noscript></div><style data-emotion="css 8531wk">.css-8531wk{padding-bottom:80px;}</style><header class="css-8531wk"><style data-emotion="css 192qh8m">.css-192qh8m{width:100%;padding:1rem 0;position:fixed;top:0;left:auto;right:auto;bottom:auto;-webkit-transition:all .4s ease-in;transition:all .4s ease-in;}</style><nav id="header-nav" class="css-192qh8m"><style data-emotion="css 1jzd79n">.css-1jzd79n{width:70%;margin:auto;}</style><section class="css-1jzd79n"><style data-emotion="css 1paqf5z">.css-1paqf5z{float:right;}</style><section class="css-1paqf5z"><style data-emotion="css cbg1lf">.css-cbg1lf{color:white;margin-right:12px;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}.css-cbg1lf:hover{color:#66E0FF;}</style><style data-emotion="css 1scdsys">.css-1scdsys{color:var(--theme-ui-colors-primary);color:white;margin-right:12px;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}.css-1scdsys:hover{color:#66E0FF;}</style><a class="css-1scdsys" href="/">主页</a><style data-emotion="css 1wbl112">.css-1wbl112{color:white;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}.css-1wbl112:hover{color:#66E0FF;}</style><style data-emotion="css 9diey0">.css-9diey0{color:var(--theme-ui-colors-primary);color:white;cursor:pointer;-webkit-text-decoration:none;text-decoration:none;}.css-9diey0:hover{color:#66E0FF;}</style><a class="css-9diey0" href="/about/">关于</a></section></section></nav><style data-emotion="css 1a161fb">.css-1a161fb{max-width:672px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:32px;}</style><div class="css-1a161fb"><style data-emotion="css fplwad">.css-fplwad{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:32px;}</style><div class="css-fplwad"><style data-emotion="css 84s846">.css-84s846{margin-top:50px;margin-bottom:0;font-size:24px;}</style><style data-emotion="css 12gmd3o">.css-12gmd3o{margin-top:50px;margin-bottom:0;font-size:24px;}</style><h1 class="css-12gmd3o"><style data-emotion="css 14dv0ch">.css-14dv0ch{color:white;box-shadow:none;-webkit-text-decoration:underline;text-decoration:underline;}.css-14dv0ch:hover{color:#2ac3ff;}</style><style data-emotion="css 1ytd4kh">.css-1ytd4kh{color:var(--theme-ui-colors-primary);color:white;box-shadow:none;-webkit-text-decoration:underline;text-decoration:underline;}.css-1ytd4kh:hover{color:#2ac3ff;}</style><a class="css-1ytd4kh" href="/">Kuzure&#x27;s blog</a></h1></div><style data-emotion="css ve7ya4">.css-ve7ya4{margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion="css tcsn83">.css-tcsn83{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-bottom:32px;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><div class="css-tcsn83"><style data-emotion="css 9cxz3b">.css-9cxz3b{margin-right:8px;margin-bottom:16px;width:80px;min-width:48px;border-radius:50%;cursor:pointer;}.css-9cxz3b:hover{-webkit-transform:rotate(
                666turn
                );-moz-transform:rotate(
                666turn
                );-ms-transform:rotate(
                666turn
                );transform:rotate(
                666turn
                );transition-delay:0;transition-property:all;transition-duration:59s;transition-timing-function:cubic-bezier(.34,0,.84,1);}</style><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-9cxz3b"><div style="max-width:814px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;814&#x27; width=&#x27;814&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/fe79452f2bf834ff9bf8cf2684783a6b/1fe79/avatar.webp 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a575b/avatar.webp 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/695ee/avatar.webp 814w" sizes="(min-width: 814px) 814px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 814px) 814px, 100vw" decoding="async" loading="lazy" data-src="/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg" data-srcset="/static/fe79452f2bf834ff9bf8cf2684783a6b/8bfb3/avatar.jpg 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a39ba/avatar.jpg 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg 814w" alt="kuzure"/></picture><noscript><picture><source type="image/webp" srcSet="/static/fe79452f2bf834ff9bf8cf2684783a6b/1fe79/avatar.webp 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a575b/avatar.webp 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/695ee/avatar.webp 814w" sizes="(min-width: 814px) 814px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 814px) 814px, 100vw" decoding="async" loading="lazy" src="/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg" srcSet="/static/fe79452f2bf834ff9bf8cf2684783a6b/8bfb3/avatar.jpg 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a39ba/avatar.jpg 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg 814w" alt="kuzure"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><div class="css-0"><div><div><style data-emotion="css 1arxws0">.css-1arxws0{color:white;font-size:24px;}</style><span class="css-1arxws0">kuzure-耳东山亘</span><style data-emotion="css 1xfcqgg">.css-1xfcqgg{color:var(--theme-ui-colors-primary);}</style><a href="https://github.com/kuzurec" class="css-1xfcqgg"><svg class="icon github-icon" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a></div><style data-emotion="css 12fs3jb">.css-12fs3jb{color:gray;font-size:13px;margin-top:4px;}</style><div class="css-12fs3jb">东边有座山</div></div></div></div></div></header></div><style data-emotion="css 1n651cb">.css-1n651cb{width:100%;background:white;}</style><div class="css-1n651cb"><style data-emotion="css pf2ntx">.css-pf2ntx{max-width:672px;margin-left:auto;margin-right:auto;padding-left:16px;padding-right:16px;padding-top:32px;padding-bottom:32px;position:relative;}</style><div class="css-pf2ntx"><main><article><style data-emotion="css 183zrzq">@media (max-width: 1366px){.css-183zrzq{margin-top:32px;}}</style><header class="css-183zrzq"><h1 class="css-0">开发一个cli工具一键给你的css样式名添加前缀</h1><style data-emotion="css rsra4b">.css-rsra4b{font-size:14px;margin-top:-16px;margin-bottom:16px;}</style><style data-emotion="css 1jnjfic">.css-1jnjfic{font-size:14px;margin-top:-16px;margin-bottom:16px;}.css-1jnjfic code{font-size:inherit;}</style><p class="css-1jnjfic">July 09, 2021</p><span><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg><style data-emotion="css icq0wh">.css-icq0wh{font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:gray;border-radius:12px;margin-right:9px;cursor:pointer;}.css-icq0wh:hover{color:black;border-color:black;}</style><style data-emotion="css akon1l">.css-akon1l{color:var(--theme-ui-colors-primary);font-size:14px;-webkit-text-decoration:none;text-decoration:none;color:gray;border-radius:12px;margin-right:9px;cursor:pointer;}.css-akon1l:hover{color:black;border-color:black;}</style><a class="css-akon1l" href="/#前端">前端</a></span><span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg><a class="css-akon1l" href="/#AST">AST</a></span></span></header><style data-emotion="css mo0m9a">@media (max-width: 1366px){.css-mo0m9a{overflow-x:scroll;}}</style><section class="css-mo0m9a"><style data-emotion="css 1ek8oqb">.css-1ek8oqb code{font-size:inherit;}</style><p class="css-1ek8oqb">最近做 qiankun 框架微前端集成的时候，遇到了主应用和子应用样式名冲突导致样式异常的问题。
对此，qiankun 虽然给出了沙箱隔离的方案，但是这个方案对于 react 框架似乎并不怎么友好，
而一个一个地给子应用的样式添加前缀又太繁琐，
所以就想是否可以开发一个 cli 工具，一键给项目中的 className 添加前缀。</p><p class="css-1ek8oqb">有了想法，这就上车。</p><style data-emotion="css 17gfwuz">.css-17gfwuz{pointer-events:painted;}.css-17gfwuz a{visibility:hidden;}.css-17gfwuz:hover a{visibility:visible;}</style><h3 id="开发-cli-工具" class="css-17gfwuz"><style data-emotion="css yixlj4">.css-yixlj4{margin-left:-20px;padding-right:4px;color:var(--theme-ui-colors-primary);}</style><a href="#开发-cli-工具" aria-label="开发 cli 工具" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>开发 cli 工具</h3><p class="css-1ek8oqb">首先创建一个文件夹，并进入文件夹执行 npm init ，一路回车。
在生成的 package.json 中，添加执行脚本的路径配置：</p><style data-emotion="css rczgmi">.css-rczgmi{font-family:Menlo,monospace;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;margin-bottom:8px;color:white;background-color:var(--theme-ui-colors-prism-background);overflow:auto;border-radius:10px;padding:16px;}.css-rczgmi .attr-name{font-style:italic;}.css-rczgmi .comment{color:var(--theme-ui-colors-prism-comment);}.css-rczgmi .attr-name,.css-rczgmi .string,.css-rczgmi .url{color:var(--theme-ui-colors-prism-string);}.css-rczgmi .variable{color:var(--theme-ui-colors-prism-var);}.css-rczgmi .number{color:var(--theme-ui-colors-prism-number);}.css-rczgmi .builtin,.css-rczgmi .char,.css-rczgmi .constant,.css-rczgmi .function{color:var(--theme-ui-colors-prism-constant);}.css-rczgmi .punctuation,.css-rczgmi .selector,.css-rczgmi .doctype{color:var(--theme-ui-colors-prism-punctuation);}.css-rczgmi .class-name{color:var(--theme-ui-colors-prism-className);}.css-rczgmi .tag,.css-rczgmi .operator,.css-rczgmi .keyword{color:var(--theme-ui-colors-prism-tag);}.css-rczgmi .boolean{color:var(--theme-ui-colors-prism-boolean);}.css-rczgmi .property{color:var(--theme-ui-colors-prism-property);}.css-rczgmi .namespace{color:var(--theme-ui-colors-prism-namespace);}.css-rczgmi .highlight{background:hsla(0, 0%, 40%, .5);}</style><style data-emotion="css 1q7q4hh">.css-1q7q4hh{font-family:Menlo,monospace;font-size:inherit;}</style><style data-emotion="css 1wbk7c2">.css-1wbk7c2{font-family:Menlo,monospace;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;margin-bottom:8px;color:white;background-color:var(--theme-ui-colors-prism-background);overflow:auto;border-radius:10px;padding:16px;font-family:Menlo,monospace;font-size:inherit;}.css-1wbk7c2 .attr-name{font-style:italic;}.css-1wbk7c2 .comment{color:var(--theme-ui-colors-prism-comment);}.css-1wbk7c2 .attr-name,.css-1wbk7c2 .string,.css-1wbk7c2 .url{color:var(--theme-ui-colors-prism-string);}.css-1wbk7c2 .variable{color:var(--theme-ui-colors-prism-var);}.css-1wbk7c2 .number{color:var(--theme-ui-colors-prism-number);}.css-1wbk7c2 .builtin,.css-1wbk7c2 .char,.css-1wbk7c2 .constant,.css-1wbk7c2 .function{color:var(--theme-ui-colors-prism-constant);}.css-1wbk7c2 .punctuation,.css-1wbk7c2 .selector,.css-1wbk7c2 .doctype{color:var(--theme-ui-colors-prism-punctuation);}.css-1wbk7c2 .class-name{color:var(--theme-ui-colors-prism-className);}.css-1wbk7c2 .tag,.css-1wbk7c2 .operator,.css-1wbk7c2 .keyword{color:var(--theme-ui-colors-prism-tag);}.css-1wbk7c2 .boolean{color:var(--theme-ui-colors-prism-boolean);}.css-1wbk7c2 .property{color:var(--theme-ui-colors-prism-property);}.css-1wbk7c2 .namespace{color:var(--theme-ui-colors-prism-namespace);}.css-1wbk7c2 .highlight{background:hsla(0, 0%, 40%, .5);}</style><pre class="language-json prism-code language-json css-1wbk7c2"><div class="token-line"><span class="token property">&quot;bin&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;ccpc&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;./bin/ccpc/index.js&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">,</span></div></pre><p class="css-1ek8oqb">添加以下依赖:</p><pre class="language-json prism-code language-json css-1wbk7c2"><div class="token-line"><span class="token property">&quot;commander&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;^8.0.0&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property">&quot;chalk&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;^4.1.1&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token property">&quot;ora&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;^5.4.1&quot;</span></div></pre><p class="css-1ek8oqb"><style data-emotion="css 118aluo">.css-118aluo{border-radius:0.3em;color:var(--theme-ui-colors-secondary);background-color:var(--theme-ui-colors-highlight);padding-top:0.15em;padding-bottom:0.05em;padding-left:0.2em;padding-right:0.2em;}</style><code class="css-118aluo">commander</code> 用于实现 node 命令行界面的交互。
<code class="css-118aluo">chalk</code> 可以给你的终端输出添加颜色。
<code class="css-118aluo">ora</code> 添加优雅的终端转轮</p><p class="css-1ek8oqb">在 bin/ccpc/index.js 中添加以下代码</p><pre class="language-js prism-code language-javascript css-1wbk7c2"><div class="token-line"><span class="token keyword">const</span><span class="token plain"> program </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;commander&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> chalk </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;chalk&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> ora </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;ora&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">const</span><span class="token plain"> spinner </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">&#x27;Loading undead unicorns&#x27;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><style data-emotion="css 13aqjzy">.css-13aqjzy{display:inline-block;}</style><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">program</span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">command</span><span class="token punctuation">(</span><span class="token string">&quot;add &lt;prefix_name&gt;&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">option</span><span class="token punctuation">(</span><span class="token string">&quot;-d, --dir &lt;dir&gt;&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;Which dir to use&quot;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;./build&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">prefix_name</span><span class="token parameter punctuation">,</span><span class="token parameter"> options</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    spinner</span><span class="token punctuation">.</span><span class="token method function property-access">start</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">开始添加前缀 </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">prefix_name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">    </span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      spinner</span><span class="token punctuation">.</span><span class="token method function property-access">succeed</span><span class="token punctuation">(</span><span class="token plain">chalk</span><span class="token punctuation">.</span><span class="token method function property-access">green</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">添加前缀 </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">prefix_name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> 成功</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">program</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token plain">process</span><span class="token punctuation">.</span><span class="token property-access">argv</span><span class="token punctuation">)</span></div></pre><p class="css-1ek8oqb">具体的用法可参考其官方文档，这里就不赘述了。我们只需要了解 command 是用于描述命令，option 用于添加可选参数，
action 定义命令的回调函数，用于执行命令的相关操作。</p><h3 id="调试" class="css-17gfwuz"><a href="#调试" aria-label="调试" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>调试</h3><p class="css-1ek8oqb">直接执行 node <!-- -->[path]<!-- -->/bin/ccpc/index.js</p><p class="css-1ek8oqb">或者执行 npm link 添加软链接</p><p class="css-1ek8oqb">也可发布 npm 包后执行</p><p class="css-1ek8oqb">npm install -g <!-- -->[包名]</p><p class="css-1ek8oqb">然后就可以使用 ccpc 命令了，此时执行</p><pre class="language-cmd prism-code language-cmd css-1wbk7c2"><div class="token-line"><span class="token plain">ccpc add myprefix</span></div></pre><p class="css-1ek8oqb">可以看到命令行输出:</p><p class="css-1ek8oqb">这样一个简单的 cli 就开发完成了。</p><h3 id="匹配样式名以及添加前缀" class="css-17gfwuz"><a href="#匹配样式名以及添加前缀" aria-label="匹配样式名以及添加前缀" class="css-yixlj4"><svg viewBox="0 0 16 16" width="16" height="16" fill="currentcolor" aria-hidden="true"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>匹配样式名以及添加前缀</h3><p class="css-1ek8oqb">这里选用<code class="css-118aluo">jscodeshift</code>和<code class="css-118aluo">css-tree</code>来分别替换 js 和 css 文件。</p><p class="css-1ek8oqb">Jscodeshift 能够解析 js ，将 js 内容解析成 AST(Abstract Syntax Tree) 语法树，然后提供一些便利的操作接口，方便我们对各个节点进行更改。
css-tree 则同理，用于解析 css.</p><p class="css-1ek8oqb">添加以下代码, 读取文件转换成 string 格式， 由于是直接替换打包之后的文件，因此只需转换 js 和 css 格式的文件</p><pre class="language-js prism-code language-javascript css-1wbk7c2"><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">addPrefix</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">prefixName</span><span class="token parameter punctuation">,</span><span class="token parameter"> filePath</span><span class="token parameter punctuation">,</span><span class="token parameter"> extname</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> originData </span><span class="token operator">=</span><span class="token plain"> fs</span><span class="token punctuation">.</span><span class="token method function property-access">readFileSync</span><span class="token punctuation">(</span><span class="token plain">filePath</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&quot;utf8&quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> newData </span><span class="token operator">=</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    extname </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;.js&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">?</span><span class="token plain"> </span><span class="token function">modifyJsFile</span><span class="token punctuation">(</span><span class="token plain">prefixName</span><span class="token punctuation">,</span><span class="token plain"> originData</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token operator">:</span><span class="token plain"> </span><span class="token function">modifyCssFile</span><span class="token punctuation">(</span><span class="token plain">prefixName</span><span class="token punctuation">,</span><span class="token plain"> originData</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  fs</span><span class="token punctuation">.</span><span class="token method function property-access">writeFileSync</span><span class="token punctuation">(</span><span class="token plain">filePath</span><span class="token punctuation">,</span><span class="token plain"> newData</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-1ek8oqb">添加前缀函数：</p><pre class="language-js prism-code language-javascript css-1wbk7c2"><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">addClassNamePrefixHelper</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token parameter punctuation">,</span><span class="token parameter"> prefixName</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> classList </span><span class="token operator">=</span><span class="token plain"> name</span><span class="token punctuation">.</span><span class="token method function property-access">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> newClassName </span><span class="token operator">=</span><span class="token plain"> classList</span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">map</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">^(\w|-)+$</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">.</span><span class="token method function property-access">test</span><span class="token punctuation">(</span><span class="token plain">i</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token keyword control-flow">return</span><span class="token plain"> i</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword control-flow">return</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">prefixName</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">_</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">i</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> newClassName</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-1ek8oqb">具体的修改 js 文件方法核心代码：</p><pre class="language-js prism-code language-javascript css-1wbk7c2"><div class="token-line"><span class="token keyword">const</span><span class="token plain"> ast </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">j</span><span class="token punctuation">(</span><span class="token plain">source</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token comment">// source为string格式的源代码，通过fs.redadFileSync进行转换</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain"></span><span class="token comment">/**</span></div><div class="token-line"><span class="token comment"> * 匹配 className: &quot;xxx xxx&quot;</span></div><div class="token-line"><span class="token comment"> */</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">ast</span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token plain">j</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Property</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    key</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      name</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;className&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">find</span><span class="token punctuation">(</span><span class="token plain">j</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Literal</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">item</span><span class="token operator">?.</span><span class="token plain">value</span><span class="token operator">?.</span><span class="token plain">value </span><span class="token operator">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword">typeof</span><span class="token plain"> item</span><span class="token operator">?.</span><span class="token plain">value</span><span class="token operator">?.</span><span class="token plain">value </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token keyword">const</span><span class="token plain"> newClassName </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function">addClassNamePrefixHelper</span><span class="token punctuation">(</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        item</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        prefixName</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">      </span><span class="token function">j</span><span class="token punctuation">(</span><span class="token plain">item</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">replaceWith</span><span class="token punctuation">(</span><span class="token plain">j</span><span class="token punctuation">.</span><span class="token method function property-access">literal</span><span class="token punctuation">(</span><span class="token plain">newClassName</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span></div></pre><p class="css-1ek8oqb">css 文件：</p><pre class="language-js prism-code language-javascript css-1wbk7c2"><div class="token-line"><span class="token keyword">const</span><span class="token plain"> </span><span class="token function-variable function">modifyCssFile</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token parameter">prefixName</span><span class="token parameter punctuation">,</span><span class="token parameter"> source</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword">const</span><span class="token plain"> ast </span><span class="token operator">=</span><span class="token plain"> csstree</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token plain">source</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  csstree</span><span class="token punctuation">.</span><span class="token method function property-access">walk</span><span class="token punctuation">(</span><span class="token plain">ast</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token parameter">node</span><span class="token plain"> </span><span class="token arrow operator">=&gt;</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword control-flow">if</span><span class="token plain"> </span><span class="token punctuation">(</span><span class="token plain">node</span><span class="token punctuation">.</span><span class="token property-access">type</span><span class="token plain"> </span><span class="token operator">===</span><span class="token plain"> </span><span class="token string">&quot;ClassSelector&quot;</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      node</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">prefixName</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">_</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">node</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain css-13aqjzy">
</span></div><div class="token-line"><span class="token plain">  </span><span class="token keyword control-flow">return</span><span class="token plain"> csstree</span><span class="token punctuation">.</span><span class="token method function property-access">generate</span><span class="token punctuation">(</span><span class="token plain">ast</span><span class="token punctuation">)</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre><p class="css-1ek8oqb">主要步骤为：查找 ast 语法树，然后找到文件指定的代码片段进行修改。我们到<a href="https://astexplorer.net/" class="css-1xfcqgg">https://astexplorer.net/</a> 网站中，
将要添加前缀的代码粘贴进去，就能看到转换后的 ast 语法树。</p><p class="css-1ek8oqb">不同的项目匹配规则可能会有差异，因此这里只给出一个思路。具体可到 <a href="https://github.com/kuzurec/css-classname-prefix-cli" class="css-1xfcqgg">git代码仓库</a> 中查看。
我已经将其发布到了 npm 中，可通过npm安装使用：</p><pre class="language-cmd prism-code language-cmd css-1wbk7c2"><div class="token-line"><span class="token plain">npm install -g css-classname-prefix-cli</span></div></pre></section></article><style data-emotion="css bw3ms">.css-bw3ms{height:500px;position:absolute;top:50px;right:-150px;}@media (max-width: 1366px){.css-bw3ms{left:0;top:8px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;height:40px;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}}</style><div class="css-bw3ms"><style data-emotion="css 1wxwq6a">.css-1wxwq6a{color:gray;margin-bottom:8px;}@media (max-width: 1366px){.css-1wxwq6a{margin-right:8px;line-height:16px;display:inline-block;height:16px;}}</style><div class="css-1wxwq6a"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-biaoqian"></use></svg>标签</div><style data-emotion="css 1hdyz7f">.css-1hdyz7f{line-height:24px;}@media (max-width: 1366px){.css-1hdyz7f{margin-right:8px;line-height:16px;display:inline-block;height:16px;}}</style><div class="css-1hdyz7f"><style data-emotion="css 193q585">.css-193q585:hover{color:#66E0FF;}</style><style data-emotion="css 1lkqple">.css-1lkqple{color:var(--theme-ui-colors-primary);}.css-1lkqple:hover{color:#66E0FF;}</style><a class="css-1lkqple" href="/#电影">电影<!-- -->(<!-- -->2<!-- -->)</a></div><div class="css-1hdyz7f"><a class="css-1lkqple" href="/#前端">前端<!-- -->(<!-- -->3<!-- -->)</a></div><div class="css-1hdyz7f"><a class="css-1lkqple" href="/#爬虫">爬虫<!-- -->(<!-- -->1<!-- -->)</a></div><div class="css-1hdyz7f"><a class="css-1lkqple" href="/#AST">AST<!-- -->(<!-- -->1<!-- -->)</a></div><div class="css-1hdyz7f"><a class="css-1lkqple" href="/#单元测试">单元测试<!-- -->(<!-- -->1<!-- -->)</a></div><div class="css-1hdyz7f"><a class="css-1lkqple" href="/#关于">关于<!-- -->(<!-- -->1<!-- -->)</a></div></div></main><style data-emotion="css 1i8tjli">.css-1i8tjli{margin-top:32px;padding-top:16px;}</style><footer class="css-1i8tjli"><style data-emotion="css 1mbou4u">.css-1mbou4u{border-color:var(--theme-ui-colors-muted);}</style><hr class="css-1mbou4u"/><div class="css-tcsn83"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-9cxz3b"><div style="max-width:814px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;814&#x27; width=&#x27;814&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/fe79452f2bf834ff9bf8cf2684783a6b/1fe79/avatar.webp 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a575b/avatar.webp 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/695ee/avatar.webp 814w" sizes="(min-width: 814px) 814px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 814px) 814px, 100vw" decoding="async" loading="lazy" data-src="/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg" data-srcset="/static/fe79452f2bf834ff9bf8cf2684783a6b/8bfb3/avatar.jpg 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a39ba/avatar.jpg 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg 814w" alt="kuzure"/></picture><noscript><picture><source type="image/webp" srcSet="/static/fe79452f2bf834ff9bf8cf2684783a6b/1fe79/avatar.webp 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a575b/avatar.webp 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/695ee/avatar.webp 814w" sizes="(min-width: 814px) 814px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 814px) 814px, 100vw" decoding="async" loading="lazy" src="/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg" srcSet="/static/fe79452f2bf834ff9bf8cf2684783a6b/8bfb3/avatar.jpg 204w,/static/fe79452f2bf834ff9bf8cf2684783a6b/a39ba/avatar.jpg 407w,/static/fe79452f2bf834ff9bf8cf2684783a6b/d2713/avatar.jpg 814w" alt="kuzure"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><div class="css-0"><div><div><style data-emotion="css 16whzlj">.css-16whzlj{color:black;font-size:24px;}</style><span class="css-16whzlj">kuzure-耳东山亘</span><a href="https://github.com/kuzurec" class="css-1xfcqgg"><svg class="icon github-icon" aria-hidden="true"><use xlink:href="#icon-github"></use></svg></a></div><div class="css-12fs3jb">东边有座山</div></div></div></div><style data-emotion="css 11r1i3o">.css-11r1i3o{-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;list-style:none;padding:0;}</style><style data-emotion="css f95zwa">.css-f95zwa{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;list-style:none;padding:0;}</style><ul class="css-f95zwa"><li><a rel="prev" class="css-1xfcqgg" href="/are-you-lonesome-tonight/">← <!-- -->热带往事 --发生在潮湿初夏的一段关于救赎的往事</a></li><li><a rel="next" class="css-1xfcqgg" href="/replace-by-node/">对照文档替换工作太麻烦？用node爬虫和jscodeshift实现一键搞定<!-- --> →</a></li></ul></footer></div></div><div id="go-up"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ai-top"></use></svg></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>var head = document.head || document.getElementsByTagName("head")[0];var script = document.createElement("script");script.setAttribute("src", "https://at.alicdn.com/t/font_2633402_ou6lp25ipf.js");script.setAttribute("type", "text/javascript");script.setAttribute("charset", "utf8");script.setAttribute("async", "");head.appendChild(script);</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/classname-prefix-cli/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-318f69286c26ef0a1952.js"],"app":["/app-348b17b41c98f114e5b1.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-650edf50d8f6d8e3896c.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-8e8acd39aeab295972b2.js"],"component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js":["/component---node-modules-gatsby-theme-blog-core-src-templates-posts-query-js-9b4100491def805a8e60.js"],"component---src-pages-intro-js":["/component---src-pages-intro-js-e12bf8b49e89b0fa9e71.js"]};/*]]>*/</script><script src="/polyfill-318f69286c26ef0a1952.js" nomodule=""></script><script src="/component---node-modules-gatsby-theme-blog-core-src-templates-post-query-js-8e8acd39aeab295972b2.js" async=""></script><script src="/799b9e28ec84f08939ab3af68c08e0b6efc8bad3-85829a2fafa1d0f63618.js" async=""></script><script src="/594a10c5e594bd3faaa0b3336dcd5755131ca933-a54017c2c5d08c874522.js" async=""></script><script src="/41aca86e-ff3c2ac48cc14a2a06ae.js" async=""></script><script src="/app-348b17b41c98f114e5b1.js" async=""></script><script src="/framework-83c4af4e5826768a26d2.js" async=""></script><script src="/webpack-runtime-8ef745f2580752c1dbf5.js" async=""></script></body></html>